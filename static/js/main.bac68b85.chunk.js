(this["webpackJsonpreact-git-repo-browser"]=this["webpackJsonpreact-git-repo-browser"]||[]).push([[0],{104:function(e,t,a){e.exports=a(145)},109:function(e,t,a){},110:function(e,t,a){},111:function(e,t,a){},134:function(e,t,a){},135:function(e,t,a){},138:function(e,t,a){},141:function(e,t,a){},142:function(e,t,a){},143:function(e,t,a){},144:function(e,t,a){},145:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(9),o=a.n(r),i=a(26),l=a(16),s=a(36),m=a(37),u=a(40),d=(a(109),a(67)),h=a(45),p=(a(110),a(186)),E=a(184),f=a(185),g=a(62),v=a(31),b=a(183),O=a(198),S=a(19),C=Object(S.a)(),y=(a(111),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).onRepoSearch=function(){var e=a.getUserFromInputValue(a.state.inputValue),t=a.getRepoFromInputValue(a.state.inputValue);C.push("/browser/".concat(e,"/").concat(t)),C.go()},a.state={inputValue:"",inputValidity:!1},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"validSearchString",value:function(e){var t=1===e.split("").filter((function(e){return"/"===e})).length,a=e.indexOf("/")>0&&e.indexOf("/")<e.length-1;return t&&a}},{key:"getUserFromInputValue",value:function(e){return e.split("/")[0]}},{key:"getRepoFromInputValue",value:function(e){return e.split("/")[1]}},{key:"updateInputValue",value:function(e){console.log(e.target.value),this.setState(Object(v.a)({},this.state,{inputValue:e.target.value,inputValidity:this.validSearchString(e.target.value)}))}},{key:"render",value:function(){var e=this;return c.a.createElement("div",{className:"block"},c.a.createElement("div",{className:"search-input m-b-xs"},c.a.createElement("h2",{className:"search-hint m-b-xs"},"Explore a Repository"),c.a.createElement(O.a,{defaultValue:this.state.inputValue,onChange:function(t){return e.updateInputValue(t)},className:"search-input",type:"text",placeholder:"username/repo"})),c.a.createElement("div",{className:"search-button"},c.a.createElement(b.a,{disabled:!this.state.inputValidity,onClick:this.onRepoSearch,variant:"contained",color:"primary"},"Search")))}}]),t}(c.a.PureComponent)),j=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement(E.a,{position:"static"},c.a.createElement(f.a,null,c.a.createElement(g.a,{variant:"h6",className:"app-bar-title"},"React Git Repo Browser"))),c.a.createElement(p.a,{maxWidth:"sm",className:"container m-t-xl"},c.a.createElement(y,null)))}}]),t}(n.PureComponent),M=a(28),I=a(43),w={user:"",repo:"",loading:!1,commits:[],error:null},R={selectedCommitId:null,loading:!1,commit:null,error:null},_=Object(I.c)({searchReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEARCH_REPO_START":var a=t.payload,n=a.loading,c=a.user,r=a.repo;return Object(v.a)({},e,{loading:n,user:c,repo:r});case"SEARCH_REPO_SUCCESS":var o=t.payload,i=o.loading,l=o.commits;return Object(v.a)({},e,{loading:i,commits:l});case"SEARCH_REPO_FAILURE":var s=t.payload,m=s.loading,u=s.error;return Object(v.a)({},e,{loading:m,error:u});default:return e}},commitReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SELECT_COMMIT_START":var a=t.payload,n=a.selectedCommitId,c=a.loading;return Object(v.a)({},e,{loading:c,selectedCommitId:n});case"SELECT_COMMIT_SUCCESS":var r=t.payload,o=r.loading,i=r.commit;return Object(v.a)({},e,{loading:o,commit:i});case"SELECT_COMMIT_FAILURE":var l=t.payload,s=l.loading,m=l.error;return Object(v.a)({},e,{loading:s,error:m});default:return e}}}),T=a(87),N=Object(I.e)(_,Object(I.d)(Object(I.a)(T.a),window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__():function(e){return e})),z=a(195),k=a(69),L=a.n(k),x=a(194),V="https://api.github.com",U="/repos",A=function(e,t){return function(a){console.log("search dispatched"),a(F(e,t)),function(e,t){var a="".concat(V).concat(U,"/").concat(e,"/").concat(t,"/commits");return Object(x.a)(L.a.get(a,{completed:!1}))}(e,t).pipe().subscribe((function(e){console.log("LIST_COMMITS success."),a(P(e.data))}),(function(e){console.log("LIST_COMMITS failure."),a(D(e.message))}),(function(){console.log("LIST_COMMITS completed.")}))}},F=function(e,t){return{type:"SEARCH_REPO_START",payload:{loading:!0,user:e,repo:t}}},P=function(e){return{type:"SEARCH_REPO_SUCCESS",payload:{commits:e,loading:!1}}},D=function(e){return{type:"SEARCH_REPO_FAILURE",payload:{error:e,loading:!1}}},H=function(e,t,a){return function(n){console.log("SELECT_COMMIT started."),n(B(a)),function(e,t,a){var n="".concat(V).concat(U,"/").concat(e,"/").concat(t,"/commits/").concat(a);return Object(x.a)(L.a.get(n,{}))}(e,t,a).pipe(Object(z.a)(200)).subscribe((function(e){console.log("SELECT_COMMIT success."),console.log(e),n(W(e.data))}),(function(e){console.log("SELECT_COMMIT failure."),n(G(e.message)),console.error(e)}),(function(){console.log("SELECT_COMMIT completed.")}))}},B=function(e){return{type:"SELECT_COMMIT_START",payload:{selectedCommitId:e,loading:!0}}},W=function(e){return{type:"SELECT_COMMIT_SUCCESS",payload:{commit:e,loading:!1}}},G=function(e){return{type:"SELECT_COMMIT_FAILURE",payload:{error:e,loading:!1}}},X=a(53),Y=Object(X.a)([function(e){return e.commits}],(function(e){return e})),J=function(e){return e.loading},Q=Object(X.a)([function(e){return e.user}],(function(e){return e})),$=Object(X.a)([function(e){return e.repo}],(function(e){return e})),q=Object(X.a)([function(e){return e.commit}],(function(e){return e})),K=(a(134),a(187)),Z=a(193);a(135);var ee=function(){return c.a.createElement(Z.a,{className:"loading-container"},c.a.createElement(K.a,null))},te=a(188),ae=a(200),ne=a(189),ce=a(202),re=a(190),oe=a(90),ie=a.n(oe),le=a(191),se={selection:[{order:1,name:"file"},{order:1,name:"file-minus"},{order:1,name:"file-plus"},{order:1,name:"git-branch",prevSize:24},{order:1,name:"git-commit",prevSize:24}],metadata:{name:"Feather (subset)",importSize:{width:24,height:24},url:"https://feathericons.com/",designer:"Cole Bemis",designerURL:"http://colebemis.com/",license:"MIT",licenseURL:"https://github.com/feathericons/feather/blob/master/LICENSE",iconsHash:159453443},height:1024,prevSize:24,icons:[{paths:["M750.336 341.333h-153.003v-153.003zM883.499 353.835l-298.667-298.667c-3.925-3.925-8.619-7.083-13.824-9.259s-10.795-3.243-16.341-3.243h-298.667c-35.328 0-67.413 14.379-90.496 37.504s-37.504 55.168-37.504 90.496v682.667c0 35.328 14.379 67.413 37.504 90.496s55.168 37.504 90.496 37.504h512c35.328 0 67.413-14.379 90.496-37.504s37.504-55.168 37.504-90.496v-469.333c0-11.776-4.779-22.443-12.501-30.165zM512 128v256c0 23.552 19.115 42.667 42.667 42.667h256v426.667c0 11.776-4.736 22.4-12.501 30.165s-18.389 12.501-30.165 12.501h-512c-11.776 0-22.4-4.736-30.165-12.501s-12.501-18.389-12.501-30.165v-682.667c0-11.776 4.736-22.4 12.501-30.165s18.389-12.501 30.165-12.501z"],tags:["file"],grid:24},{paths:["M750.336 298.667h-110.336v-110.336zM883.499 311.168l-256-256c-3.925-3.925-8.619-7.083-13.824-9.259s-10.795-3.243-16.341-3.243h-341.333c-35.328 0-67.413 14.379-90.496 37.504s-37.504 55.168-37.504 90.496v682.667c0 35.328 14.379 67.413 37.504 90.496s55.168 37.504 90.496 37.504h512c35.328 0 67.413-14.379 90.496-37.504s37.504-55.168 37.504-90.496v-512c0-11.776-4.779-22.443-12.501-30.165zM554.667 128v213.333c0 23.552 19.115 42.667 42.667 42.667h213.333v469.333c0 11.776-4.736 22.4-12.501 30.165s-18.389 12.501-30.165 12.501h-512c-11.776 0-22.4-4.736-30.165-12.501s-12.501-18.389-12.501-30.165v-682.667c0-11.776 4.736-22.4 12.501-30.165s18.389-12.501 30.165-12.501zM384 682.667h256c23.552 0 42.667-19.115 42.667-42.667s-19.115-42.667-42.667-42.667h-256c-23.552 0-42.667 19.115-42.667 42.667s19.115 42.667 42.667 42.667z"],tags:["file-minus"],grid:24},{paths:["M750.336 298.667h-110.336v-110.336zM883.499 311.168l-256-256c-3.925-3.925-8.619-7.083-13.824-9.259s-10.795-3.243-16.341-3.243h-341.333c-35.328 0-67.413 14.379-90.496 37.504s-37.504 55.168-37.504 90.496v682.667c0 35.328 14.379 67.413 37.504 90.496s55.168 37.504 90.496 37.504h512c35.328 0 67.413-14.379 90.496-37.504s37.504-55.168 37.504-90.496v-512c0-11.776-4.779-22.443-12.501-30.165zM554.667 128v213.333c0 23.552 19.115 42.667 42.667 42.667h213.333v469.333c0 11.776-4.736 22.4-12.501 30.165s-18.389 12.501-30.165 12.501h-512c-11.776 0-22.4-4.736-30.165-12.501s-12.501-18.389-12.501-30.165v-682.667c0-11.776 4.736-22.4 12.501-30.165s18.389-12.501 30.165-12.501zM384 682.667h85.333v85.333c0 23.552 19.115 42.667 42.667 42.667s42.667-19.115 42.667-42.667v-85.333h85.333c23.552 0 42.667-19.115 42.667-42.667s-19.115-42.667-42.667-42.667h-85.333v-85.333c0-23.552-19.115-42.667-42.667-42.667s-42.667 19.115-42.667 42.667v85.333h-85.333c-23.552 0-42.667 19.115-42.667 42.667s19.115 42.667 42.667 42.667z"],tags:["file-plus"],grid:24},{paths:["M853.333 256c0 23.595-9.515 44.843-25.003 60.331s-36.736 25.003-60.331 25.003-44.843-9.515-60.331-25.003-25.003-36.736-25.003-60.331 9.515-44.843 25.003-60.331 36.736-25.003 60.331-25.003 44.843 9.515 60.331 25.003 25.003 36.736 25.003 60.331zM341.333 768c0 23.595-9.515 44.843-25.003 60.331s-36.736 25.003-60.331 25.003-44.843-9.515-60.331-25.003-25.003-36.736-25.003-60.331 9.515-44.843 25.003-60.331 36.736-25.003 60.331-25.003 44.843 9.515 60.331 25.003 25.003 36.736 25.003 60.331zM723.371 420.779c-8.533 79.573-44.331 150.912-98.005 204.587s-125.013 89.515-204.587 98.005c-7.893-29.227-23.339-55.339-44.075-76.075-21.205-21.163-48.043-36.864-78.037-44.587v-474.709c0-23.552-19.115-42.667-42.667-42.667s-42.667 19.115-42.667 42.667v474.709c-29.995 7.723-56.832 23.424-77.995 44.587-30.848 30.848-50.005 73.6-50.005 120.704s19.157 89.856 50.005 120.661 73.557 50.005 120.661 50.005 89.856-19.157 120.661-50.005c21.589-21.589 37.461-48.981 45.013-79.659 102.784-9.003 195.157-54.485 264.021-123.307s114.304-161.237 123.307-264.021c30.677-7.552 58.069-23.424 79.659-45.013 30.848-30.805 50.005-73.557 50.005-120.661s-19.157-89.856-50.005-120.661-73.557-50.005-120.661-50.005-89.856 19.157-120.661 50.005-50.005 73.557-50.005 120.661 19.157 89.856 50.005 120.661c20.736 20.736 46.848 36.181 76.075 44.075z"],tags:["git-branch"],grid:24,defaultCode:59649},{paths:["M640 512c0 35.371-14.293 67.285-37.504 90.496s-55.125 37.504-90.496 37.504-67.285-14.293-90.496-37.504-37.504-55.125-37.504-90.496 14.293-67.285 37.504-90.496 55.125-37.504 90.496-37.504 67.285 14.293 90.496 37.504 37.504 55.125 37.504 90.496zM725.76 554.667h253.867c23.552 0 42.667-19.115 42.667-42.667s-19.115-42.667-42.667-42.667h-253.867c-1.579 0-3.115 0.085-4.651 0.256-8.448-41.899-29.227-79.36-58.24-108.416-38.571-38.571-91.989-62.507-150.869-62.507s-112.299 23.936-150.869 62.464c-29.056 29.056-49.792 66.517-58.24 108.373-1.365-0.085-2.816-0.171-4.224-0.171h-253.867c-23.552 0-42.667 19.115-42.667 42.667s19.115 42.667 42.667 42.667h253.867c1.408 0 2.859-0.085 4.224-0.213 8.448 41.899 29.227 79.36 58.24 108.373 38.571 38.571 91.989 62.507 150.869 62.507s112.299-23.936 150.869-62.464c29.056-29.056 49.792-66.517 58.24-108.416 1.536 0.171 3.072 0.256 4.651 0.256z"],tags:["git-commit"],grid:24,defaultCode:59648}],colorThemes:[],preferences:{showGlyphs:!0,showQuickUse:!0,showQuickUse2:!0,showSVGs:!0,fontPref:{prefix:"icon-",metadata:{fontFamily:"icomoon",majorVersion:1,minorVersion:0},metrics:{emSize:1024,baseline:6.25,whitespace:50},embed:!1},imagePref:{prefix:"icon-",png:!0,useClassSelector:!0,color:0,bgColor:16777215,classSelector:".icon",name:"icomoon",height:32,columns:16,margin:16},historySize:50,showCodes:!0,gridSize:16},IcoMoonType:"icon-set"};function me(e){var t=se.icons.find((function(t){return t.tags[0]===e}));return t?t.paths[0]:(console.warn("icon ".concat(e," does not exist.")),"")}var ue=function(e){var t=e.size||22;return c.a.createElement("svg",{width:t,height:t,viewBox:"0 0 1024 1024"},c.a.createElement("path",{d:me(e.icon)}))},de=a(88),he=a.n(de);a(138);var pe=Object(M.b)((function(e){return{data:q(e.commitReducer),loading:J(e.commitReducer)}}),(function(e){return{onMount:function(t,a,n){return e(H(t,a,n))}}}))(c.a.memo((function(e){var t=Object(h.g)();return Object(n.useEffect)((function(){var a=t.pathname.split("/")[2],n=function(e){return e.split("/")[3]}(t.pathname),c=function(e){return e.split("/")[4]}(t.pathname);e.onMount(a,n,c),console.log(t.pathname)}),[t]),e.data?c.a.createElement(p.a,{maxWidth:"xs",className:"commit-details"},c.a.createElement(te.a,{container:!0,direction:"column"},c.a.createElement(te.a,{item:!0,className:"row"},c.a.createElement(g.a,{variant:"h4"},e.data.commit.message)),c.a.createElement(te.a,{item:!0,className:"row"},c.a.createElement(te.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center",spacing:2},c.a.createElement(te.a,{className:"author",item:!0},c.a.createElement(te.a,{container:!0,alignItems:"center",spacing:2},c.a.createElement(te.a,{item:!0},c.a.createElement(ae.a,{alt:"",src:e.data&&e.data.author&&e.data.author.avatar_url})),c.a.createElement(te.a,{item:!0},c.a.createElement(g.a,{variant:"h6"},e.data.commit.author.name)))),c.a.createElement(te.a,{className:"date",item:!0},c.a.createElement(g.a,{variant:"h6"},"on\xa0",c.a.createElement(he.a,{format:"YYYY/MM/DD hh:mm:ss"},e.data.commit.author.date))))),c.a.createElement(te.a,{item:!0,className:"row detail"},c.a.createElement(te.a,{container:!0,direction:"row",alignItems:"flex-end",spacing:2,justify:"space-between"},c.a.createElement(te.a,{item:!0},c.a.createElement(te.a,{className:"hash",container:!0,direction:"row",alignItems:"flex-end",spacing:2},c.a.createElement(te.a,{className:"icon",item:!0},c.a.createElement(ue,{icon:"git-commit"})),c.a.createElement(te.a,{item:!0},c.a.createElement(g.a,{className:"hash-id",variant:"h6"},e.data.sha)))),c.a.createElement(te.a,{item:!0,className:"changes"},c.a.createElement(te.a,{container:!0,spacing:2},c.a.createElement(te.a,{item:!0},c.a.createElement(te.a,{container:!0,alignItems:"center"},c.a.createElement(ue,{icon:"file-plus"}),c.a.createElement(g.a,{variant:"h6"},e.data.stats.additions))),c.a.createElement(te.a,{item:!0},c.a.createElement(te.a,{container:!0,alignItems:"center"},c.a.createElement(ue,{icon:"file-minus"}),c.a.createElement(g.a,{variant:"h6"},e.data.stats.deletions))))),c.a.createElement(te.a,{xs:12,md:6,item:!0,className:"file-list"},c.a.createElement(g.a,{variant:"h6"},"File changed:\xa0",e.data.files.length),c.a.createElement("div",{className:"file-list-container"},c.a.createElement(ne.a,{dense:!0},e.data.files.map((function(e,t){return c.a.createElement(ce.a,{key:t},c.a.createElement(re.a,null,c.a.createElement(ie.a,null)),c.a.createElement(le.a,{className:"file-name",primary:e.filename,secondary:e.status}),c.a.createElement("div",{className:"file-change"},c.a.createElement(ue,{icon:"file-plus"}),e.additions),c.a.createElement("div",{className:"file-change"},c.a.createElement(ue,{icon:"file-minus"}),e.deletions))}))))))))):c.a.createElement(ee,null)})));a(141);var Ee=function(){return c.a.createElement(p.a,{maxWidth:"xs",className:"commit-placeholder"},c.a.createElement(te.a,{className:"container",container:!0,direction:"column",alignItems:"center"},c.a.createElement(te.a,{item:!0},c.a.createElement(ue,{icon:"git-commit",size:33})),c.a.createElement(te.a,{item:!0},c.a.createElement(g.a,{variant:"h5"},"Select a commit"))))},fe=a(196),ge=a(91),ve=a.n(ge);a(142);var be=Object(M.b)((function(e){return{commits:Y(e.searchReducer),user:Q(e.searchReducer),repo:$(e.searchReducer),selectedCommitId:e.commitReducer.selectedCommitId}}),null)((function(e){return c.a.createElement(fe.a,{className:"drawer",variant:"permanent",anchor:"left",open:!0},c.a.createElement(ne.a,{dense:!0},c.a.createElement(ce.a,{divider:!0},c.a.createElement(re.a,null,c.a.createElement(ve.a,null)),c.a.createElement(le.a,{primary:e.repo,secondary:e.commits.length+" commits"})),c.a.createElement(ne.a,{className:"commits-list"},e.commits.map((function(t,a){return c.a.createElement(ce.a,{className:"commit "+(r=t,e.selectedCommitId===r.sha?"selected":""),key:a,onClick:function(a){return function(t){var a=t.sha;C.push("/browser/".concat(e.user,"/").concat(e.repo,"/").concat(a)),C.go()}(t)}},c.a.createElement(re.a,{className:"commit-icon"},c.a.createElement(ue,{icon:"git-commit"})),c.a.createElement(le.a,{primary:t.commit.message,secondary:"".concat(t.commit.author.name," on ").concat((n=t.commit.author.date,new Date(n).toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric"})))}));var n,r})))))})),Oe=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=C.location.pathname.split("/")[2],t=C.location.pathname.split("/")[3];N.dispatch(A(e,t))}},{key:"goToStart",value:function(){C.push("/start"),C.go()}},{key:"render",value:function(){return c.a.createElement("div",{className:"browser"},this.props.loading?c.a.createElement(ee,null):c.a.createElement("div",null,c.a.createElement(E.a,{position:"static"},c.a.createElement(f.a,{className:"toolbar"},c.a.createElement(g.a,{variant:"h6",className:"app-bar-title"},"React Git Repo Browser"),c.a.createElement(b.a,{color:"inherit",onClick:this.goToStart},"New Search"))),c.a.createElement(be,null),c.a.createElement(Z.a,{className:"detail-container"},this.props.commitSelected?c.a.createElement(pe,{className:"detail"}):c.a.createElement(Ee,{className:"detail"}))))}}]),t}(n.PureComponent),Se=Object(M.b)((function(e){return{loading:J(e.searchReducer)}}),null)(Oe),Ce=a(201),ye=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return c.a.createElement(Ce.a,null,c.a.createElement(c.a.StrictMode,null,c.a.createElement(d.a,null,c.a.createElement(h.d,null,c.a.createElement(h.b,{path:"/start"},c.a.createElement(j,null)),c.a.createElement(h.b,{path:"/browser/:user/:repo/:commit"},c.a.createElement(Se,{commitSelected:!0})),c.a.createElement(h.b,{path:"/browser/:user/:repo"},c.a.createElement(Se,null)),c.a.createElement(h.b,{path:"*"},c.a.createElement(h.a,{to:"/start"}))))))}}]),t}(c.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var je=a(61),Me=a(199),Ie=a(197);var we=Object(M.b)((function(e){return{error:e.commitReducer.error||e.searchReducer.error}}),(function(e){return{}}))((function(e){var t=Object(n.useState)(!1),a=Object(je.a)(t,2),r=a[0],o=a[1];Object(n.useEffect)((function(){e.error&&o(!0)}),[e.error]);var i=function(){o(!1)};return c.a.createElement(Me.a,{open:r,autoHideDuration:3e3,onClose:i},c.a.createElement(Ie.a,{onClose:i,severity:"error"},"An error occurred!"))}));a(143),a(144);o.a.render(c.a.createElement(M.a,{store:N},c.a.createElement(ye,null),c.a.createElement(we,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[104,1,2]]]);
//# sourceMappingURL=main.bac68b85.chunk.js.map